# JVault Staking V2

## Overview

**JVault Staking V2** — сервис, с помощью которого любой пользователь блокчейна может создать стейкинг-пул для своего токена в несколько кликов. Основные отличительные черты платформы — полная децентрализация, широкое поле настроек стейкинг-пулов и присутствие всех рациональных функций, которые могут понадобиться фаундеру жетона.

- Любой пользователь сможет создать свой стейкинг-пул через WEB-интерфейс или с помощью Telegram MiniApp и настроить в нем такие параметры, как:
    * Количество наград и период, за время которого они будут распределены среди стейкеров
    * Размеры минимального и максимального депозитов для каждого пользователя[^1]
    * Неограниченное количество периодов "блокировки"[^2] и соответствующих им мультипликаторов доходности
    * Ограничения по общему количеству заблокированных жетонов в стейкинг-пуле для каждого из периодов блокировки (для установки нижней границы доходности в стейкинг-пуле)
    * Ставка комиссии для мгновенного анстейка
    * \[Опционально\] Ставка комиссии для депозитов
    * \[Опционально\] Список кошельков, с которых может совершаться стейкинг

- После отправки транзакции для создания стейкинг-пула, он отобразится в каталоге и каждый холдер сможет застейкать жетоны в созданном пуле.

- При отправке жетонов в стейкинг пользователь получает *"staked jettons"*, являющиеся ликвидным активом (их можно продавать, передавать, частично выводить из стейкинг-пула).

- Пользователь может в любой момент забрать накопившиеся награды и, при желании, добавить их к существующей стейкинг-позиции.

- Для возвращения вложенных в стейкинг токенов пользователю необходимо сжечь *"staked jettons"*. Доступен как бесплатный "отложенный" вывод[^3], так и мгновенный вывод с комиссией. 

- В процессе существования стейкинг-пула создатель сможет добавлять туда награды в различных жетонах, которые будут распределяться в различные периоды времени.


Использование *"Staked jettons"* вместо *"Bond NFTs"* решает проблему неудобства реинвестирования, существовавшую в первой **Staking V1**, и **увеличивает пространство применения жетонов в DeFi**, а возможность добавления наград с индивидуальными периодома распределения **делает JVault Staking V2 идеальным решением для распределения прибыли проекта среди его инвесторов**.

Подробное техническое описание работы смарт-контрактов и tlb-схему можно прочитать [по ссылке](./src/pools_with_limits/contracts/description-ru.tlb).

## TODO list

- [x] Создание полнофункциональных контрактов стейкинг-пула и "staked jettons" с поддержкой ограничения максимального депозита - 03.08.2024
- [x] Написание базовых тестов для проверки функционала смарт-контрактов - 03.08.2024
- [x] Создание прокси смарт-контракта `pool_factory.fc` для более удобного деплоя стейкинг-пулов - 05.08.2024
- [ ] Расширенное тестирование смарт-контрактов с учетом всех "крайних случаев" - 07.08.2024
- [ ] Создание Telegram MiniApp для взаимодействия со смарт-контрактами - 12.08.2024
- [ ] Релиз сервиса - 15.08.2024

[^1]: Использование ограничения размера депозита делает неудобным использование *"staked jettons"* в сторонних протоколах, поэтому при создании стейкинг-пула у пользователя будет выбор, добавлять ограничения на минимальный и максимальный депозит или нет.

[^2]: Период блокировки в данном случае — минимальное время, которое должно пройти между отправкой запроса на анстейк и выводом средств. 

[^3]: При отложенном выводе награды на запрошенные перестают начисляться сразу после отправки запроса, и могут начать начисляться снова, только если запрос в дальнейшем будет отменен.